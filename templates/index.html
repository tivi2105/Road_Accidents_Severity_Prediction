<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home</title>
</head>
<script type="text/javascript">
async function send_data() {
    let d = {name: "trivi", age: 25};
    let data = JSON.stringify(d);
    const request = new XMLHttpRequest();
    request.open("POST", "/data");
    request.setRequestHeader('Content-Type', 'application/json');
    request.onload = () => {
        const msg = JSON.parse(request.responseText);
        document.getElementById("jsonText").value = msg["name"];
        console.log("Msg: "+ msg);
    };
    request.send(data);
}
</script>
<body>
    <div>
        <h1>Hello {{ name }}</h1>
    </div>
    <!--<div>
        <form action="/get_data" method="post">
            <input type="text" name="sampleText">
            <input type="submit">
        </form>
    </div>
    <div>
        Send_data:<input type="text" id="jsonText">
        <input type="submit" value="JSON_Button" onclick="send_data();">
    </div>-->
    <div>
        <form action="/dashboard">
            Name:<input type="text" id="username" name="username">
            <input type="submit" value="Dashboard">
        </form>
    </div>
</body>
</html>